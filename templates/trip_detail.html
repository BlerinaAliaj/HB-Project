{% extends 'base.html' %}

{% block title %} 
<meta name="viewport" content="initial-scale=1.0">
<meta charset="utf-8">
{% endblock %}

{% block content %}
<div class="col-xs-12">
    <h1>Hello {{ name }}:</h1>
    <h1>Welcome to {{ trip_name }} trip page. </h1>
    
    <h2>People that are joining you on this trip:</h2>

    <ul>
        {% for member in members %}
            {% if member.user_id != username %}

            <li>
              <a href="/member_profile/{{ username }}">
                {{ member.first_name }} {{ member.last_name }}</a> 
            </li>

          {% endif %}
      {% endfor %}

    </ul>
    <a href="/add_member/{{ trip_code }}">Add members to this trip</a>
</div>

<div>
  <h1>Group Communication:</h1>
  <form id="sendmessage" action="/message/{{ trip_code }}" method="POST">
    <textarea rows="4" cols="80" id="mytext" name="mymessage"></textarea>
    <input id="sendbutton" type="submit" value="Send Message" >
  
   <ul id="message"></ul>
  </form>
</div>

<div class="list">
  <h1> Your List here</h1>
  <form action="/list/{{ trip_code }}" method="POST">
    <table>
      <tr>
        <tr>Action Items</tr>
        <tr>Action assigned to</tr>
        <tr>Completed</tr>
      </tr><br>
      {% if items %}
      {% for item in items %}
      <tr>
          <tr>{{ item.description }}</tr>
          <tr>{{ item.user_id }}</tr>
          <tr>{{ item.completed }} </tr><br>
      </tr>
      {% endfor %}
      {% endif %}
      <tr>
          <tr><input type="text" name="description"></tr>
          <tr><input type="text" name="userid"></tr>
          <tr><input type="checkbox" name="completed" value="True"></tr>
          <input type="submit" value="additem"> 
      </tr>
    </table>
    </form>
</div>

<div>
<h1> Your Maps go here:</h1>
    <div id="floating-panel">
      <input id="address" type="textbox" value="San Francisco, CA">
      <input id="submit" type="button" value="Geocode">
      <input id="submarker" type="button" value="Log This Route">
    </div>
    <div id="map" style="width: 900px; height: 400px; "></div>
</div>

<div>
  <h1> This is the End</h1>
  <h2> Yes it is</h2>
</div>

<!-- Place your scripts here:  -->
<script type="text/javascript"> 
var trip_code = "{{ trip_code }}";
var username = "{{ session['user'] }}";

</script>
<script src="https://code.jquery.com/jquery.js"></script>
<script type="text/javascript" src="/static/myscript.js"></script>
<script src="https://maps.googleapis.com/maps/api/js?key=key&callback=initMap"
async defer></script>

{% endblock %}